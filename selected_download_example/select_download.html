<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Selected contry download example</title>
  </head>
  <body>
    <select id="selectLocation">
      <option value="">Choose Contry</option>
      <option value="001">country 1</option>
      <option value="002">country 2</option>
      <option value="003">country 3</option>
    </select>
    <button onclick="selectedDownload()"> download </button>

    <!-- s selected contry download script  -->
    <script>
      // Contry List
      let ctrList = [
        { cNum: "001", cName: "contry1", cCode: "ctr1", fName: "example.png" },
        { cNum: "002", cName: "contry2", cCode: "ctr2", fName: "example2.png" },
        { cNum: "003", cName: "contry3", cCode: "ctr3", fName: "example3.png" },
      ];

      // Download function
      let download = function (filename, filepath) {
        var element = document.createElement("a");
        element.setAttribute("href", filepath);
        element.setAttribute("download", filename);
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
      };

      // event function
      let selectedDownload = function () {
        let val = document.querySelector(
          "#selectLocation > option:checked"
        ).value; // selected contry
        let fname; // file name
        let fpath = "./assets/images"; // file path
        for (let i = 0; i < ctrList.length; i++) {
          if (val === ctrList[i].cNum) {
            fname = ctrList[i].fName;
          }
        }
        if (val !== "") {
          download(fname, fpath); 
        }
      };
    </script>
    <!-- e selected contry download script  -->
  </body>
</html>
